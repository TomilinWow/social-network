{"version":3,"sources":["hoc/withAuthRedirect.js","components/Profile/MyProfile/MyProfile.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/Post/Post.module.css","components/Profile/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/MyProfile/ProfileStatus.jsx","components/Profile/MyProfile/MyProfile.jsx","components/Profile/Profile.jsx","components/Profile/ProfilesContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Post","className","s","item","src","alt","text","FormMyPost","useForm","register","handleSubmit","errors","formState","onSubmit","addNewPost","placeholder","required","post","error","MyPosts","console","log","postItems","posts","map","p","value","addPost","compose","newMessageBody","profilePage","dispatch","ProfileStatus","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onBlur","onChange","e","currentTarget","autoFocus","MyProfile","profile","profileWrapper","profileImage","photos","large","profilePhoto","about","fullName","Preloader","Profile","MyPostsContainer","ProfilesContainer","userId","match","params","id","getUsers","getStatus","isReloaded","withRouter"],"mappings":"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","file":"static/js/4.e38c31b9.chunk.js","sourcesContent":["import {Redirect} from \"react-router-dom\";\r\nimport React from 'react'\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component{\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let AuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n    return  AuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileWrapper\":\"MyProfile_profileWrapper__3Ywe5\",\"about\":\"MyProfile_about__37YKM\",\"profileImage\":\"MyProfile_profileImage__1tAvf\",\"posts\":\"MyProfile_posts__3GtUd\",\"postItems\":\"MyProfile_postItems__8hrks\",\"status\":\"MyProfile_status__1gPsl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__1Ii-p\",\"profileWrapper\":\"Profile_profileWrapper__3J2K9\",\"about\":\"Profile_about__lcfKY\",\"profileImage\":\"Profile_profileImage__3xEO2\",\"posts\":\"Profile_posts__3VmES\",\"postItems\":\"Profile_postItems__1qy5U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__RO49a\",\"postItems\":\"MyPosts_postItems__1OnK2\",\"error\":\"MyPosts_error__2Fpnx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1mwTY\"};","import s from \"./Post.module.css\"\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img src=\"https://robb.report/upload/custom/8c5/8c5cd6d84c19af7bbd4721f4797f234b.jpg\" alt=\"\"/>\r\n            <div>\r\n                <p>{props.text}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import s from './MyPosts.module.css';\r\nimport React from \"react\";\r\nimport Post from \"../Post/Post\";\r\nimport {useForm} from \"react-hook-form\";\r\n\r\n\r\nconst FormMyPost = (props) => {\r\n    const {register, handleSubmit, formState: { errors }} = useForm()\r\n    return <form onSubmit={handleSubmit(props.addNewPost)}>\r\n        <textarea placeholder={'Your text...'} {...register('post', {required: true })} />\r\n        {errors.post && <span className={s.error}>This field is required</span>}\r\n        <div>\r\n            <button>Add post</button>\r\n        </div>\r\n    </form>\r\n\r\n}\r\n\r\nconst MyPosts = props => {\r\n        console.log('render')\r\n        let postItems = props.posts.map(p => <Post text={p.text}/>)\r\n\r\n        let addNewPost = (value) => {\r\n            props.addPost(value.post)\r\n\r\n        }\r\n\r\n        return (\r\n            <div className={s.posts}>\r\n                <h3>My Posts</h3>\r\n                <div className={s.postItems}>\r\n                    {postItems}\r\n                </div>\r\n                <FormMyPost addNewPost={addNewPost}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\nexport default MyPosts;","import React from \"react\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {addNewPost} from \"../../../redux/profile-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        newMessageBody: state.profilePage.newMessageBody,\r\n        posts: state.profilePage.posts\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (text) => {\r\n            dispatch(addNewPost(text))\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(MyPosts);","import React, {useEffect, useState} from \"react\";\r\nimport s from \"./MyProfile.module.css\"\r\n\r\nconst ProfileStatus = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.setStatus(status)\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div className={s.status}>\r\n            {(!editMode) &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{props.status || 'Status is not defined'}</span>\r\n            </div>\r\n\r\n            }\r\n            {(editMode) &&\r\n            <div>\r\n                <input onBlur={deactivateEditMode}\r\n                       onChange={onStatusChange}\r\n                       autoFocus={true}\r\n                       value={status}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default ProfileStatus;","import s from './MyProfile.module.css';\r\nimport React from \"react\";\r\nimport Preloader from \"../../Tools/Preloader\";\r\nimport profilePhoto from '../../../assets/images/user.png'\r\nimport ProfileStatus from \"./ProfileStatus\";\r\n\r\nconst MyProfile = (props) => {\r\n    if (!props.profile){\r\n        return <Preloader/>\r\n    }\r\n    return (<div>\r\n        <div className={s.profileWrapper}>\r\n            <div className={s.profileImage}>\r\n                <img src={props.profile.photos.large ? props.profile.photos.large: profilePhoto} alt=\"\"/>\r\n            </div>\r\n            <div className={s.about}>\r\n                <p>{props.profile.fullName}</p>\r\n                <ProfileStatus status={props.status} setStatus={props.setStatus}/>\r\n\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    );\r\n\r\n}\r\n\r\nexport default MyProfile;","import s from './Profile.module.css';\r\nimport React from \"react\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport MyProfile from \"./MyProfile/MyProfile\";\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <div className={s.profile}>\r\n            <MyProfile profile={props.profile} status={props.status} setStatus={props.setStatus}/>\r\n            <MyPostsContainer />\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Profile;","import {connect} from \"react-redux\";\r\nimport {\r\n    addNewPost,\r\n    getUsers, setStatus, getStatus\r\n} from \"../../redux/profile-reducer\";\r\nimport Preloader from '../Tools/Preloader'\r\nimport React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {Redirect, withRouter} from 'react-router-dom'\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfilesContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId){\r\n            userId = this.props.id\r\n        }\r\n        this.props.getUsers(userId)\r\n        this.props.getStatus(userId)\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.props.isAuth) return <Redirect to='/login'/>\r\n        return <>\r\n            {\r\n                this.props.isReloaded ? <Preloader/> : null\r\n            }\r\n            <Profile {...this.props}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     setStatus={this.props.setStatus}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        isAuth: state.auth.isAuth,\r\n        status: state.profilePage.status,\r\n        id: state.auth.id\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        addNewPost,\r\n        getUsers,\r\n        setStatus,\r\n        getStatus\r\n    }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfilesContainer)\r\n\r\n"],"sourceRoot":""}